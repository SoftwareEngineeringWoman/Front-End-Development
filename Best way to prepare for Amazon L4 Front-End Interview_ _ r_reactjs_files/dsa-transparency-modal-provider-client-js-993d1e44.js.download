import"./dsa-transparency-modal-c6fadf1d.js";import{c as t,_ as a,n as s,I as e,t as r,s as n,c5 as o,c6 as i,x as d,e as p}from"./shell-cc43a7af.js";import"./faceplate-bottom-sheet-f98b541d.js";import"./TinyGesture-32f2fddd.js";let c=class extends n{constructor(){super(),this.postId="",this._activateFeature=async t=>o(t),this.initDsaTransparencyModal=async t=>{const a=t;this.target=a.target,this.postId=a.detail?.post_id,this.adUserTargetingInfo=a.detail?.ad_user_targeting_info;const{gender:s,interests:e,locations:r,targetingCriteria:n}=this.adUserTargetingInfo,o={};s&&(o.gender=`${s}`),e&&e.length>0&&(o.interests=`${e.toString()}`),r&&r.length>0&&(o.locations=`${r.join("-")}`),n&&n.length>0&&(o.targeting_criteria=`${n.toString()}`),await this._activateFeature({name:"dsa-transparency-modal",queryParams:{post_id:this.postId,is_desktop:!!this.isDesktop,...o},renderMode:i.Contents})},this.closeDsaTransparencyModal=async()=>{await(this.dsaTransparencyModal?.updateComplete),this.target?.focus()},this.addEventListener("dsa-transparency-modal-init",this.initDsaTransparencyModal),this.addEventListener("dsa-transparency-modal-close",this.closeDsaTransparencyModal)}render(){return d` <slot></slot> `}};c.styles=[t],a([s({type:Boolean,attribute:"is-desktop"})],c.prototype,"isDesktop",void 0),a([e("dsa-transparency-modal")],c.prototype,"dsaTransparencyModal",void 0),a([r()],c.prototype,"postId",void 0),a([r()],c.prototype,"adUserTargetingInfo",void 0),c=a([p("dsa-transparency-modal-provider")],c);
//# sourceMappingURL=dsa-transparency-modal-provider-client-js-993d1e44.js.map
